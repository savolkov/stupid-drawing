(window["webpackJsonpstupid-drawing"]=window["webpackJsonpstupid-drawing"]||[]).push([[0],{144:function(t,e,n){t.exports=n(323)},149:function(t,e,n){},154:function(t,e,n){},155:function(t,e,n){},156:function(t,e,n){},319:function(t,e,n){},320:function(t,e,n){},321:function(t,e,n){},323:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),o=n(9),r=n.n(o),c=(n(149),n(48)),l=n(17),h=(n(154),n(15)),s=n(21),d=n(23),u=n(22),g=n(24),v=(n(155),n(14)),f=(n(156),function(t){function e(t,n,i,a){var o;return Object(h.a)(this,e),(o=Object(d.a)(this,Object(u.a)(e).call(this,t,n))).startPoint=void 0,o.color=void 0,o.endPoint=void 0,o.highlighted=void 0,i.x<a.x?(o.startPoint=i,o.endPoint=a):(o.startPoint=a,o.endPoint=i),o.color="#".concat((16777215*Math.random()<<0).toString(16)),o.highlighted=!1,o}return Object(g.a)(e,t),Object(s.a)(e,[{key:"isOnLine",value:function(t,e){var n=this.startPoint.x,i=this.endPoint.x,a=this.startPoint.y,o=this.endPoint.y;return this.highlighted=Math.abs((o-a)*t-(i-n)*e+i*a-o*n)/Math.sqrt((o-a)*(o-a)+(i-n)*(i-n))<10&&t>=n-10&&t<=i+10,this.highlighted}},{key:"isOnEnd",value:function(t,e){var n=this.startPoint.x,i=this.endPoint.x,a=this.startPoint.y,o=this.endPoint.y;return Math.abs(n-t)<10&&Math.abs(a-e)<10?this.startPoint:Math.abs(i-t)<10&&Math.abs(o-e)<10?this.endPoint:null}},{key:"clone",value:function(){var t=new e(this.id,this.name,this.startPoint,this.endPoint);return t.color=this.color,t}},{key:"getEquation",value:function(){var t=this.startPoint.y-this.endPoint.y,e=this.endPoint.x-this.startPoint.x,n=this.startPoint.x*this.endPoint.y-this.startPoint.y*this.endPoint.x,i="".concat(t,"x");return i+=e>0?"+".concat(e,"y"):"".concat(e,"y"),i+=n>0?"+".concat(n):"".concat(n)}}]),e}((function t(e,n){Object(h.a)(this,t),this.id=void 0,this.name=void 0,this.id=e,this.name=n}))),m=function t(e,n,i){Object(h.a)(this,t),this.x=void 0,this.y=void 0,this.z=void 0,this.x=e,this.y=n,this.z=i},b=function(t){return{type:"ADD_LINE",line:t}},p=function(t){return{type:"REMOVE_LINE",id:t}},P=function(t,e){return{type:"CHANGE_LINE",id:t,newLine:e}},E=function(){return{type:"CLEAR_CANVAS"}},y=function(t,e,n){return{type:"SET_MOUSE_POS",x:t,y:e,eq:n}},O=n(49),L=n(133),j=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(d.a)(this,Object(u.a)(e).call(this,t))).ctx=void 0,n.cWidth=void 0,n.cHeight=void 0,n.dragging=void 0,n.highlightedLine=void 0,n.startPoint=void 0,n.movingPoint=void 0,n.isMovingPoint=void 0,n.onMouseMoveHandler=function(t){var e=t.nativeEvent.offsetX,i=t.nativeEvent.offsetY,a=Object(v.a)(n).props,o=a.data,r=n.highlightedLine?n.highlightedLine.getEquation():null;if(a.setMousePosAction(e,i,r),o.length)if(n.dragging||n.isMovingPoint)n.moveLine(t,!0);else{var c=!1;o.forEach((function(t){if(t instanceof f)if(t.isOnLine(e,i)){n.highLightLine(t),c=!0;var a=t.isOnEnd(e,i);a&&n.highlightEnd(a,t.color)}else n.unHighlightEnd(t.endPoint),n.unHighlightEnd(t.startPoint),n.unHighLightLine(t)})),c||(n.highlightedLine=null)}},n.highlightEnd=function(t,e){var i=Object(v.a)(n).ctx;i.beginPath(),i.arc(t.x,t.y,4,0,2*Math.PI),i.strokeStyle=e,i.stroke(),i.fillStyle=e,i.fill()},n.unHighlightEnd=function(t){var e=Object(v.a)(n).ctx;e.beginPath(),e.arc(t.x,t.y,6,0,2*Math.PI),e.strokeStyle="#FFFFFF",e.stroke(),e.fillStyle="#FFFFFF",e.fill()},n.highLightLine=function(t){var e=Object(v.a)(n).ctx;e.beginPath(),e.lineWidth=5,e.moveTo(t.startPoint.x,t.startPoint.y),e.lineTo(t.endPoint.x,t.endPoint.y),e.strokeStyle=t.color,e.stroke(),n.highlightedLine=t},n.unHighLightLine=function(t){var e=Object(v.a)(n).ctx;e.beginPath(),e.lineWidth=6,e.moveTo(t.startPoint.x,t.startPoint.y),e.lineTo(t.endPoint.x,t.endPoint.y),e.strokeStyle="#ffffff",e.stroke(),e.lineWidth=2,e.moveTo(t.startPoint.x,t.startPoint.y),e.lineTo(t.endPoint.x,t.endPoint.y),e.strokeStyle=t.color,e.stroke()},n.startDrag=function(t){if(3!==t.nativeEvent.which&&n.highlightedLine){var e=t.nativeEvent.offsetX,i=t.nativeEvent.offsetY,a=n.highlightedLine.isOnEnd(e,i);if(a)return n.movingPoint=a,void(n.isMovingPoint=!0);if(n.highlightedLine.isOnLine(e,i))return n.startPoint=new m(e,i,0),void(n.dragging=!0);n.highlightedLine=null,n.startPoint=null,n.isMovingPoint=!1,n.movingPoint=null}},n.moveLine=function(t,e){if(n.highlightedLine){var i=Object(v.a)(n).props,a=t.nativeEvent.offsetX,o=t.nativeEvent.offsetY,r=n.highlightedLine.clone();if(n.isMovingPoint&&n.movingPoint){var c=a-n.movingPoint.x,l=o-n.movingPoint.y;r.startPoint===n.movingPoint&&(r.startPoint.x+=c,r.startPoint.y+=l),r.endPoint===n.movingPoint&&(r.endPoint.x+=c,r.endPoint.y+=l)}if(n.dragging&&r&&n.startPoint){var h=a-n.startPoint.x,s=o-n.startPoint.y;r.startPoint.x+=h,r.startPoint.y+=s,r.endPoint.x+=h,r.endPoint.y+=s}n.highlightedLine&&(n.dragging||n.isMovingPoint)&&(i.changeLineAction(n.highlightedLine.id,r),n.highlightedLine=r,n.startPoint=new m(a,o,0)),e||(n.startPoint=null,n.dragging=!1,n.movingPoint=null,n.isMovingPoint=!1)}},n.endDrag=function(t){(n.highlightedLine||n.isMovingPoint)&&n.moveLine(t,!1)},n.deleteLine=function(t){console.log(Object(v.a)(n));var e=Object(v.a)(n).props;n.highlightedLine&&(e.removeLineAction(n.highlightedLine.id),n.highlightedLine=null)},n.changeLineColor=function(t){var e=Object(v.a)(n).props;if(n.highlightedLine){var i=n.highlightedLine.clone();i.color=t.hex,e.changeLineAction(n.highlightedLine.id,i)}},n.prepareField=function(){var t=Object(v.a)(n),e=t.cWidth,i=t.cHeight,a=Object(v.a)(n).ctx;a.clearRect(0,0,e,i),a.fillStyle="#778899";for(var o=5;o<e;o+=50)for(var r=5;r<i;r+=50)a.fillRect(o,r,1,1)},n.dragging=!1,n.highlightedLine=null,n.ctx=null,n.startPoint=null,n.cWidth=0,n.cHeight=0,n.movingPoint=null,n.isMovingPoint=!1,n}return Object(g.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=document.getElementById("stupidCanvas");t.style.width="100%",t.style.height="100%",t.width=t.offsetWidth,t.height=t.offsetHeight,this.ctx=t.getContext("2d"),this.cWidth=t.width,this.cHeight=t.height,this.prepareField()}},{key:"componentDidUpdate",value:function(){var t=this;console.log("wqwaw");var e=this.props.data;this.prepareField(),e.forEach((function(e){if(e instanceof f){if(e.highlighted)return t.highLightLine(e),t.highlightEnd(e.startPoint,e.color),t.highlightEnd(e.endPoint,e.color),void(t.highlightedLine=e);t.unHighlightEnd(e.endPoint),t.unHighlightEnd(e.startPoint),t.unHighLightLine(e)}}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"drawZone"},a.a.createElement(O.b,{id:"drawZoneCtxMenu"},a.a.createElement("canvas",{id:"stupidCanvas",className:"stupidCanvas",onMouseMove:this.onMouseMoveHandler,onMouseDown:this.startDrag,onMouseUp:this.endDrag})),a.a.createElement(O.a,{id:"drawZoneCtxMenu"},a.a.createElement(O.c,{className:"menuItem"},a.a.createElement(L.TwitterPicker,{color:this.highlightedLine?this.highlightedLine.color:"fefefe",onChange:this.changeLineColor,triangle:"hide"})),a.a.createElement(O.c,{onClick:this.deleteLine,className:"menuItem"},"Delete Line")))}}]),e}(a.a.Component);j.displayName="DrawZone";var w=Object(l.b)((function(t){return{data:t.linesState}}),{changeLineAction:P,setMousePosAction:y,removeLineAction:p})(j),C=(n(319),n(359)),x=n(357),M=n(356),A=n(324),k=n(65),_=n.n(k),N=(n(320),n(352)),I=n(358),S=Object(N.a)(C.a)({marginRight:"4px"}),H=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(d.a)(this,Object(u.a)(e).call(this,t))).a=void 0,n.b=void 0,n.c=void 0,n.cWidth=void 0,n.cHeight=void 0,n.randomIntInBounds=function(t,e){var n=Math.ceil(t),i=Math.floor(e);return Math.floor(Math.random()*(i-n+1))+n},n.getLine=function(t,e,i){if(0===n.cWidth&&0===n.cHeight){var a=document.getElementById("stupidCanvas");n.cWidth=a.width,n.cHeight=a.height}var o,r,c,l;do{c=(-i-t*(o=n.randomIntInBounds(0,n.cWidth)))/e}while(c<0);do{l=(-i-t*(r=n.randomIntInBounds(0,n.cWidth)))/e}while(l<0);var h=new m(o,c,0),s=new m(r,l,0);return new f(_()(),"",h,s)},n.addLineManually=function(){var t=Object(v.a)(n),e=t.props,i=t.a,a=t.b,o=t.c,r=n.getLine(i,a,o);e.addLineAction(r)},n.handleValueChange=function(t,e){var i=Number(t);switch(e){case"A":n.a=i;break;case"B":n.b=i;break;case"C":n.c=i}},n.a=0,n.b=0,n.c=0,n.cHeight=0,n.cWidth=0,n}return Object(g.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"equation"},a.a.createElement(M.a,{variant:"subtitle1"},"Add Line Manually"),a.a.createElement("form",{className:"equation",noValidate:!0,autoComplete:"off"},a.a.createElement(I.a,{id:"standard-basic",type:"number",label:"A",onChange:function(e){return t.handleValueChange(e.target.value,"A")}}),a.a.createElement(I.a,{id:"standard-basic",type:"number",label:"B",onChange:function(e){return t.handleValueChange(e.target.value,"B")}}),a.a.createElement(I.a,{id:"standard-basic",type:"number",label:"C",onChange:function(e){return t.handleValueChange(e.target.value,"C")}})),a.a.createElement(S,{variant:"outlined",color:"primary",onClick:this.addLineManually,type:"button"},"Add Line"))}}]),e}(a.a.Component),D=Object(l.b)(null,{addLineAction:b})(H),W=Object(A.a)(C.a)({marginRight:"4px"}),B=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(d.a)(this,Object(u.a)(e).call(this,t))).cWidth=void 0,n.cHeight=void 0,n.randomIntInBounds=function(t,e){var n=Math.ceil(t),i=Math.floor(e);return Math.floor(Math.random()*(i-n+1))+n},n.addLine=function(){var t=Object(v.a)(n).props,e=n.cHeight,i=n.cWidth,a=new m(n.randomIntInBounds(0,i),n.randomIntInBounds(0,e),0),o=new m(n.randomIntInBounds(0,i),n.randomIntInBounds(0,e),0),r=new f(_()(),"",a,o);t.addLineAction(r)},n.clearCanvas=function(){Object(v.a)(n).props.clearCanvasAction()},n.cWidth=0,n.cHeight=0,n}return Object(g.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=document.getElementById("stupidCanvas");this.cHeight=t.height,this.cWidth=t.width}},{key:"render",value:function(){return a.a.createElement(x.a,{className:"controls__paper"},a.a.createElement(M.a,{variant:"h6"}," Controls "),a.a.createElement(W,{variant:"contained",color:"primary",onClick:this.addLine,type:"button"},"Draw Line"),a.a.createElement(W,{variant:"outlined",color:"primary",onClick:this.clearCanvas,type:"button"},"Clear Canvas"),a.a.createElement(D,null))}}]),e}(a.a.Component);B.displayName="Controls";var F=Object(l.b)(null,{addLineAction:b,clearCanvasAction:E})(B),q=(n(321),n(360)),T=n(91),V=n.n(T),R=n(90),X=n.n(R),U=function(t){function e(){return Object(h.a)(this,e),Object(d.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(s.a)(e,[{key:"getCoords",value:function(){var t=this.props;return"(".concat(t.mouse.x,", ").concat(t.mouse.y,")")}},{key:"render",value:function(){var t=this.props;return t.mouse.eq?a.a.createElement("div",{className:"coordinates"},a.a.createElement(x.a,{className:"coordinates__paper"},a.a.createElement(M.a,{variant:"h6"}," \u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b \u043a\u0443\u0440\u0441\u043e\u0440\u0430: "),a.a.createElement(q.a,{variant:"outlined",color:"primary",icon:a.a.createElement(X.a,null),label:this.getCoords()})),a.a.createElement(x.a,{className:"coordinates__paper"},a.a.createElement(M.a,{variant:"h6"}," \u0423\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u044f\u043c\u043e\u0439 "),a.a.createElement(q.a,{variant:"outlined",color:"primary",icon:a.a.createElement(V.a,null),label:t.mouse.eq}))):a.a.createElement("div",{className:"coordinates"},a.a.createElement(x.a,{className:"coordinates__paper"},a.a.createElement(M.a,{variant:"h6"}," \u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b \u043a\u0443\u0440\u0441\u043e\u0440\u0430 "),a.a.createElement(q.a,{variant:"outlined",color:"primary",icon:a.a.createElement(X.a,null),label:this.getCoords()})),a.a.createElement(x.a,{className:"coordinates__paper"},a.a.createElement(M.a,{variant:"h6"}," \u0423\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u044f\u043c\u043e\u0439 "),a.a.createElement(q.a,{variant:"outlined",color:"primary",icon:a.a.createElement(V.a,null),label:"n/a"})))}}]),e}(a.a.Component),Z=Object(l.b)((function(t){return{mouse:t.mouseState}}),{})(U),Y=function(t){function e(){return Object(h.a)(this,e),Object(d.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"stupidDrawing"},a.a.createElement(w,null),a.a.createElement("div",{className:"controlsZone"},a.a.createElement(F,null),a.a.createElement(Z,null)))}}]),e}(a.a.Component),z={addLineAction:b,removeLineAction:p,changeLineAction:P,clearCanvasAction:E,setMousePosAction:y},G=Object(l.b)((function(t){return{data:t.linesState,mouse:t.mouseState}}),z)(Y),J={addLineAction:b,removeLineAction:p,changeLineAction:P,clearCanvasAction:E},$=Object(l.b)((function(t){return{data:t.linesState}}),J)((function(){return a.a.createElement("div",{className:"App"},a.a.createElement(G,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(136),Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if("ADD_LINE"===e.type){var n=t.concat([e.line]);return n}if("REMOVE_LINE"===e.type){var i=t.filter((function(t){return t.id!==e.id}));return i}if("CLEAR_CANVAS"===e.type){var a=[];return a}if("CHANGE_LINE"===e.type){var o=Object(K.a)(t),r=o.map((function(t){return t.id})),c=r.indexOf(e.id);if(-1!==c)return o[c]=e.newLine,o}return t},tt=n(135);function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(n,!0).forEach((function(e){Object(tt.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,eq:null},e=arguments.length>1?arguments[1]:void 0;if("SET_MOUSE_POS"===e.type){var n=nt({},t);return n.x=e.x,n.y=e.y,n.eq=e.eq?e.eq:null,n}return t},at=Object(c.b)({linesState:Q,mouseState:it}),ot=Object(c.c)(at,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(a.a.createElement(l.a,{store:ot},a.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[144,1,2]]]);
//# sourceMappingURL=main.d3c54523.chunk.js.map